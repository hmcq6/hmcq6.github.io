(self.webpackChunkmc_kusick_io=self.webpackChunkmc_kusick_io||[]).push([[678],{7012:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return d}});var a=i(7294),s=i(18),r=i(3552),l=[[!1,!0,!1,!0,!1,!1,!1,!0,!0,!1,!0,!1,!1,!0,!1,!0,!1,!1,!0,!1,!1,!0,!0,!0,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!1,!1,!1,!0,!0,!0,!1,!0,!0,!0,!0],[!0,!1,!0,!1,!0,!1,!0,!1,!1,!1,!0,!1,!0,!1,!1,!0,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0],[!0,!1,!0,!1,!0,!1,!0,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0],[!0,!1,!1,!1,!0,!1,!1,!0,!0,!1,!0,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0],[!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!0,!1,!0,!0,!0,!0]],n=function(t){(0,r.Z)(i,t);var e=i.prototype;function i(e){var i,s=e.id,r=e.backgroundColor,l=e.height,n=e.width,o=e.resetAfterFrame,h=e.speed;return(i=t.call(this,e)||this).state={id:s,backgroundColor:r||"black",canvasHeight:l,canvasWidth:n,frame:0,resetAfterFrame:o,speed:h||60},i.c=a.createRef(),i}return e.render=function(){var t=this;return a.createElement("canvas",{ref:this.c,id:this.state.id,height:this.state.canvasHeight,width:this.state.canvasWidth,onClick:function(e){return t.handleClick(e)}})},e.componentDidMount=function(){var t=this,e=this.c.current;this.state.canvasWidth||(e.width=e.parentElement.offsetWidth),this.state.canvasHeight||(e.height=e.parentElement.offsetHeight);for(var i=e.getContext("2d"),a=e.width,r=e.height,n=Math.max(Math.floor(r/15),5),o=Math.max(Math.floor(a/15),50),h=Array(n).fill(!1),d=(0,s.Z)(Array(o)).map((function(){return Array.from(h)})),c=Math.max(Math.floor((n-l.length)/2),0),f=Math.max(Math.floor((o-l[0].length)/2),0),u=0;u<l.length;u++)for(var m=0;m<l[0].length;m++)d[m+f][u+c]=l[u][m];this.setState({canvas:e,ctx:i,matrix:d,width:a,height:r,pixelsHigh:n,pixelsWide:o}),i.fillStyle=this.state.backgroundColor,i.fillRect(0,0,a,r),i.fillStyle="#34FAA8",this.drawMatrix(i,d,a,r),setTimeout((function(){t.setState({raf:window.requestAnimationFrame(t.step.bind(t))})}),2e3)},e.reset=function(t,e,i,a,r){void 0===t&&(t=this.state.ctx),void 0===e&&(e=this.state.height),void 0===i&&(i=this.state.width),void 0===a&&(a=this.state.pixelsHigh),void 0===r&&(r=this.state.pixelsWide);for(var n=Array(a).fill(!1),o=(0,s.Z)(Array(r)).map((function(){return Array.from(n)})),h=Math.max(Math.floor((a-l.length)/2),0),d=Math.max(Math.floor((r-l[0].length)/2),0),c=0;c<l.length;c++)for(var f=0;f<l[0].length;f++)o[f+d][c+h]=l[c][f];this.setState({matrix:o}),t.fillStyle=this.state.backgroundColor,t.fillRect(0,0,i,e),t.fillStyle="#34FAA8",this.drawMatrix(t,o,i,e)},e.componentWillUnmount=function(){window.cancelAnimationFrame(this.state.raf)},e.drawMatrix=function(t,e,i,a){for(var s=0;s<e.length;s++)for(var r=0;r<e[0].length;r++)!0===e[s][r]&&t.fillRect(15*s,15*r,14,14)},e.calculate=function(){for(var t=this.state.matrix.map((function(t){return Array.from(t)})),e=0;e<t.length;e++)for(var i=0;i<t[0].length;i++){var a,s,r,l,n,o,h,d,c=[null===(a=t[e-1])||void 0===a?void 0:a[i],null===(s=t[e+1])||void 0===s?void 0:s[i],null===(r=t[e])||void 0===r?void 0:r[i-1],null===(l=t[e])||void 0===l?void 0:l[i+1],null===(n=t[e-1])||void 0===n?void 0:n[i-1],null===(o=t[e-1])||void 0===o?void 0:o[i+1],null===(h=t[e+1])||void 0===h?void 0:h[i+1],null===(d=t[e+1])||void 0===d?void 0:d[i-1]].filter((function(t){return t})).length;(!this.state.matrix[e][i]||2!=c&&3!=c)&&(this.state.matrix[e][i]=3==c)}this.clear(),this.drawMatrix(this.state.ctx,this.state.matrix,this.state.width,this.state.height)},e.step=function(t){void 0===this.state.start&&this.setState({start:t});var e=t-this.state.start;window.requestAnimationFrame(this.step.bind(this)),e>this.state.speed&&(this.setState({frame:this.state.frame+1}),this.calculate(),this.setState({start:t})),this.state.frame>this.state.resetAfterFrame&&(this.reset(),this.setState({frame:0}))},e.clear=function(){this.state.ctx.fillStyle=this.state.backgroundColor,this.state.ctx.fillRect(0,0,this.state.width,this.state.height),this.state.ctx.fillStyle="#34FAA8"},e.handleClick=function(t){var e=t.pageX,i=t.pageY,a=t.target.offsetTop,s=Math.ceil(e/15)-1,r=Math.ceil((i-a)/15)-1,l=this.state.matrix;l[s][r]=!l[s][r],this.clear(),this.drawMatrix(this.state.ctx,l,this.state.width,this.state.height)},i}(a.Component),o=function(t){function e(){return t.apply(this,arguments)||this}(0,r.Z)(e,t);var i=e.prototype;return i.render=function(){var t=this;return a.createElement("div",{width:"100%",height:"100%"},a.createElement("canvas",{id:"PongCanvas",onClick:function(e){return t.handleClick(e)},onKeyDown:function(e){return t.handleKeyDown(e)},onKeyUp:function(e){return t.handleKeyUp(e)},tabIndex:"1"}))},i.handleKeyDown=function(t){switch(t.keyCode){case 38:case 87:this.state.keysPressed.add(Symbol.for("up"));break;case 40:case 83:this.state.keysPressed.add(Symbol.for("down"))}},i.handleKeyUp=function(t){switch(t.keyCode){case 38:case 87:this.state.keysPressed.delete(Symbol.for("up"));break;case 40:case 83:this.state.keysPressed.delete(Symbol.for("down"))}},i.componentDidMount=function(){var t=this,e=document.getElementById("PongCanvas"),i=e.getContext("2d"),a=e.width=window.innerWidth,s=e.height=window.innerHeight,r=Math.floor(Math.random()*(a/2)+a/4),l=Math.floor(Math.random()*(s/2)+s/4),n=r<a/2?Symbol.for("right"):Symbol.for("left"),o=r<a/2?Symbol.for("right"):Symbol.for("left");this.setState({canvas:e,ctx:i,width:a,height:s,player1Y:20,player2Y:20,ballX:r,ballY:l,dirLR:n,dirUD:o,player1Score:0,player2Score:0,keysPressed:new Set}),i.fillStyle="black",i.fillRect(0,0,a,s),this.drawPaddles(i,a,20,20),setTimeout((function(){t.setState({raf:window.requestAnimationFrame(t.step.bind(t))})}),2e3)},i.componentWillUnmount=function(){window.cancelAnimationFrame(this.state.raf)},i.calculate=function(t,e,i,a,s,r,l,n,o){void 0===t&&(t=this.state.keysPressed),void 0===e&&(e=this.state.width),void 0===i&&(i=this.state.height),void 0===a&&(a=this.state.player1Y),void 0===s&&(s=this.state.player2Y),void 0===r&&(r=this.state.ballX),void 0===l&&(l=this.state.ballY),void 0===n&&(n=this.state.dirLR),void 0===o&&(o=this.state.dirUD),t.has(Symbol.for("up"))?this.setState({player1Y:a-10,player2Y:a-10}):t.has(Symbol.for("down"))&&this.setState({player1Y:a+10,player2Y:a+10}),n===Symbol.for("right")?this.setState({ballX:r+5}):this.setState({ballX:r-5}),o===Symbol.for("up")?this.setState({ballY:l+5}):this.setState({ballY:l-5}),l<0&&this.setState({dirUD:Symbol.for("up")}),l>i&&this.setState({dirUD:Symbol.for("down")}),r<30&&r>10&&l>a&&l<a+50&&this.setState({dirLR:Symbol.for("right")}),r>e-30&&r<e-10&&l>s&&l<s+50&&this.setState({dirLR:Symbol.for("left")}),r<0&&this.playerScored(2),r>e&&this.playerScored(1),this.clear(),this.drawPaddles(),this.drawBall(),this.printScore()},i.printScore=function(t,e,i,a){void 0===t&&(t=this.state.ctx),void 0===e&&(e=this.state.player1Score),void 0===i&&(i=this.state.player2Score),void 0===a&&(a=this.state.width),t.fillStyle="white",t.font="30px Arial",t.fillText("Player 1: "+e,a/2+40,50),t.fillStyle="red",t.fillText("Player 2: "+i,a/2+200,50),t.fillStyle="black"},i.playerScored=function(t,e,i){var a;void 0===e&&(e=this.state.width),void 0===i&&(i=this.state.height);var s=Math.floor(Math.random()*(e/2)+e/4),r=Math.floor(Math.random()*(i/2)+i/4),l=s<e/2?Symbol.for("right"):Symbol.for("left"),n=s<e/2?Symbol.for("right"):Symbol.for("left");this.setState(((a={ballX:s,ballY:r,dirLR:l,dirUD:n})["player"+t+"Score"]=this.state["player"+t+"Score"]+1,a))},i.step=function(t){void 0===this.state.start&&this.setState({start:t});var e=t-this.state.start;window.requestAnimationFrame(this.step.bind(this)),e>60&&(this.calculate(),this.setState({start:t}))},i.clear=function(t,e,i){void 0===t&&(t=this.state.ctx),void 0===e&&(e=this.state.width),void 0===i&&(i=this.state.height),t.fillStyle="black",t.fillRect(0,0,e,i),t.fillStyle="white",t.fillRect(Math.floor(e/2),0,10,i)},i.drawBall=function(){this.state.ctx.fillStyle="white",this.state.ctx.fillRect(this.state.ballX,this.state.ballY,10,10),this.state.ctx.fillStyle="black"},i.drawPaddles=function(t,e,i,a){void 0===t&&(t=this.state.ctx),void 0===e&&(e=this.state.width),void 0===i&&(i=this.state.player1Y),void 0===a&&(a=this.state.player2Y),t.fillStyle="white",t.fillRect(10,i,20,50),t.fillRect(e-30,a,20,50),t.fillStyle="black"},i.handleClick=function(t){this.drawPaddles()},e}(a.Component),h=function(t){var e=t.defaultIndex,i=t.children,s=(0,a.useState)(e),r=s[0],l=s[1],n=[].concat(i),o=n.map((function(t){return t.props}));return a.createElement(a.Fragment,null,a.createElement("div",{className:"navigation"},o.map((function(t){var e=t.index,i=t.label;return a.createElement("button",{onClick:function(){var t;(t=e)!==r&&l(t)}},i)}))),n.filter((function(t){return t.props.index===r})))},d=function(){return a.createElement(a.Fragment,null,a.createElement(n,{id:"logo",width:800,height:90,backgroundColor:"#27272c",speed:"240",resetAfterFrame:"20"}),a.createElement(h,{defaultIndex:"1"},a.createElement(o,{index:"1",label:"Pong"}),a.createElement(n,{index:"2",label:"Conway",height:"500em"})))}}}]);
//# sourceMappingURL=component---src-pages-index-js-7922e458a5c744e8a3e5.js.map